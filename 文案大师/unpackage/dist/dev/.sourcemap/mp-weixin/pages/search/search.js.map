{"version":3,"sources":["uni-app:///main.js","webpack:///D:/daima/2020/文案大师/pages/search/search.vue?e65a","webpack:///D:/daima/2020/文案大师/pages/search/search.vue?5eee","webpack:///D:/daima/2020/文案大师/pages/search/search.vue?15ca","webpack:///D:/daima/2020/文案大师/pages/search/search.vue?b901","uni-app:///pages/search/search.vue","webpack:///D:/daima/2020/文案大师/pages/search/search.vue?eb1b"],"names":["createPage","Page","renderjs","component","options","__file","components","uTag","goodList","uTabbar","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,4C,mDACAA,EAAWC,a;;;;2DCHX,4QACIC,EADJ,iHASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,0BACZ,aAAAF,E;;;;2GCvBf,mzB;;;;2GCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,KAAM,WACJ,OAAO,4JAITC,SAAU,WACR,OAAO,6LAITC,QAAS,WACP,OAAO,mNAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DC3CvB,ueAAuqB,eAAG,G;;;;0IC6E1qB,mE,oqBAEA,CACA,mBACA,KAFA,WAGA,OACA,UACA,QAKA,aACA,OACA,QACA,oBACA,eAIA,YACA,OACA,SAEA,kBACA,WACA,kBACA,kBACA,eACA,UACA,qBACA,gBAGA,SACA,OAjCA,WAkCA,aAEA,YAEA,UACA,iBAEA,SACA,KADA,WAEA,0BACA,sBACA,uBAEA,KANA,WAOA,kBAGA,mBAVA,WAYA,6BAGA,eAfA,WAeA,WACA,cACA,cACA,oBACA,yBACA,uBAKA,eAzBA,WAyBA,WACA,4CACA,QACA,kCACA,sBACA,SAEA,kBACA,sBAEA,mBACA,mBAIA,YAxCA,SAwCA,GAEA,gCACA,MAGA,OAFA,yBACA,2BAGA,2BAWA,uBA3DA,SA2DA,KAGA,IAFA,eACA,KACA,aACA,WAEA,+DACA,qBACA,OACA,aACA,WAEA,UAEA,UAGA,WA5EA,SA4EA,GACA,0CAGA,UAhFA,WAgFA,WACA,aACA,sBACA,oBACA,WACA,sBACA,oBACA,iBACA,iBAEA,UACA,0BAMA,UAjGA,WAkGA,sCAGA,SArGA,SAqGA,OACA,SAEA,OADA,gEACA,EAEA,wBACA,OACA,eACA,oBACA,0BACA,mBACA,+BAEA,2BAcA,YAhIA,SAgIA,cACA,cACA,cACA,oBACA,yBACA,gBACA,MAGA,cAFA,aAMA,qBACA,cACA,cACA,yBAEA,oBAEA,iBACA,UACA,cACA,cACA,yBAEA,uBAKA,WA/JA,SA+JA,cACA,8FACA,QACA,IADA,yBACA,gBADA,cACA,CACA,sBACA,kBACA,WACA,aACA,SAEA,kBACA,SACA,gCAEA,4BAEA,uCAEA,mBACA,eACA,wBAGA,MAtLA,WAuLA,mBACA,gBACA,6BAEA,WA3LA,WA4LA,eACA,qBACA,sB;;;;2DCtTA,u0BAAqtC,eAAG,G","file":"pages/search/search.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/search/search.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search.vue?vue&type=template&id=4cedc0c6&\"\nvar renderjs\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/search/search.vue\"\nexport default component.exports","export * from \"-!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=template&id=4cedc0c6&\"","var components\ntry {\n  components = {\n    uTag: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-tag/u-tag\" */ \"@/uview-ui/components/u-tag/u-tag.vue\"\n      )\n    },\n    goodList: function() {\n      return import(\n        /* webpackChunkName: \"components/good-list/good-list\" */ \"@/components/good-list/good-list.vue\"\n      )\n    },\n    uTabbar: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-tabbar/u-tabbar\" */ \"@/uview-ui/components/u-tabbar/u-tabbar.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<view class=\"search-box\">\r\n\t\t\t<!-- mSearch组件 如果使用原样式，删除组件元素-->\r\n\t\t\t<mSearch\r\n\t\t\t\tclass=\"mSearch-input-box\"\r\n\t\t\t\t:mode=\"1\"\r\n\t\t\t\tbutton=\"inside\"\r\n\t\t\t\t:placeholder=\"defaultKeyword\"\r\n\t\t\t\t@search=\"doSearch(false)\"\r\n\t\t\t\t@input=\"inputChange\"\r\n\t\t\t\t@confirm=\"doSearch(false)\"\r\n\t\t\t\t@clear=\"clear\"\r\n\t\t\t\tv-model=\"keyword\"\r\n\t\t\t></mSearch>\r\n\t\t\t<!-- 原样式 如果使用原样式，恢复下方注销代码 -->\r\n\t\t\t<!-- \t\t\t\t\t\t\r\n\t\t\t\t<view class=\"input-box\">\r\n\t\t\t\t\t<input type=\"text\" :adjust-position=\"true\" :placeholder=\"defaultKeyword\" @input=\"inputChange\" v-model=\"keyword\" @confirm=\"doSearch(false)\"\r\n\t\t\t\t\t placeholder-class=\"placeholder-class\" confirm-type=\"search\">\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"search-btn\" @tap=\"doSearch(false)\">搜索</view> \r\n\t\t\t\t -->\r\n\t\t\t<!-- 原样式 end -->\r\n\t\t</view>\r\n\t\t<mescroll-body ref=\"mescrollRef\" @init=\"mescrollInit\" @down=\"downCallback\" :down=\"downOption\" :up=\"upOption\" @up=\"upCallback\" height=\"10%\" @emptyclick=\"emptyClick\">\r\n\t\t\t<view class=\"search-keyword\">\r\n\t\t\t\t<!-- <scroll-view class=\"keyword-list-box\" v-show=\"isShowKeywordList\" scroll-y>\r\n\t\t\t\t<block v-for=\"(row, index) in keywordList\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"keyword-entry\" hover-class=\"keyword-entry-tap\">\r\n\t\t\t\t\t\t<view class=\"keyword-text\" @tap.stop=\"doSearch(keywordList[index].keyword)\"><rich-text :nodes=\"row.htmlStr\"></rich-text></view>\r\n\t\t\t\t\t\t<view class=\"keyword-img\" @tap.stop=\"setKeyword(keywordList[index].keyword)\"><image src=\"/static/HM-search/back.png\"></image></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t</scroll-view> -->\r\n\t\t\t\t<scroll-view class=\"keyword-box\" v-show=\"!isShowKeywordList\" scroll-y>\r\n\t\t\t\t\t<view class=\"keyword-block\">\r\n\t\t\t\t\t\t<view class=\"keyword-list-header\"><view>热门搜索</view></view>\r\n\t\t\t\t\t\t<view class=\"keyword\" v-if=\"forbid == ''\">\r\n\t\t\t\t\t\t\t<u-tag\r\n\t\t\t\t\t\t\t\tv-for=\"(keyword, index) in hotKeywordList\"\r\n\t\t\t\t\t\t\t\t@tap=\"doSearch(keyword.name,keyword.type,keyword.cat_id)\"\r\n\t\t\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t\t\t:text=\"keyword.type == 1 ? keyword.name : `#${keyword.name}`\"\r\n\t\t\t\t\t\t\t\tmode=\"dark\"\r\n\t\t\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\t\t\tbg-color=\"#5cbbbe\"\r\n\t\t\t\t\t\t\t\tclass=\"utag\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"hide-hot-tis\" v-else><view>当前搜热门搜索已隐藏</view></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"keyword-block\" v-if=\"oldKeywordList.length > 0\">\r\n\t\t\t\t\t\t<view class=\"keyword-list-header\">\r\n\t\t\t\t\t\t\t<view>搜索记录</view>\r\n\t\t\t\t\t\t\t<view><text @tap=\"oldDelete\">清除</text></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"keyword\">\r\n\t\t\t\t\t\t\t<u-tag v-for=\"(keyword, index) in oldKeywordList\" @tap=\"doSearch(keyword)\" :key=\"index\" :text=\"keyword\" mode=\"dark\" shape=\"circle\" bg-color=\"#A9D6D7\" class=\"utag\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t\t<!-- <view class=\"no-data\" v-if=\"!isData\">\r\n\t\t\t\t\t还没有相关文案哎，要不要来\r\n\t\t\t\t\t<text>上传</text>\r\n\t\t\t\t\t一个？\r\n\t\t\t\t</view> -->\r\n\t\t\t</view>\r\n\t\t\t<good-list :list=\"resultList\"></good-list>\r\n\t\t</mescroll-body>\r\n\t\t<u-tabbar :list=\"vuex_tabbar\" :mid-button=\"true\" :border-top=\"false\" active-color=\"#00A6AC\" inactive-color=\"#c4c4c4\"></u-tabbar>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n//引用mSearch组件，如不需要删除即可\r\nimport mSearch from '@/components/mehaotian-search-revision/mehaotian-search-revision.vue';\r\nimport MescrollMixin from '@/components/mescroll-uni/mescroll-mixins.js';\r\nimport MescrollEmpty from '@/components/mescroll-uni/components/mescroll-empty.vue';\r\nexport default {\r\n\tmixins: [MescrollMixin], // 使用mixin (在main.js注册全局组件)\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tupOption: {\r\n\t\t\t\tauto: false, //是否在初始化后,自动执行上拉回调callback; 默认true\r\n\t\t\t\t// page: {\r\n\t\t\t\t// \tnum: 0, // 当前页码,默认0,回调之前会加1,即callback(page)会从1开始\r\n\t\t\t\t// \tsize: 10 // 每页数据的数量\r\n\t\t\t\t// }\r\n\t\t\t\tnoMoreSize: 3, //如果列表已无数据,可设置列表的总数量要大于半页才显示无更多数据;避免列表数据过少(比如只有一条数据),显示无更多数据会不好看\r\n\t\t\t\tempty: {\r\n\t\t\t\t\ticon: '',\r\n\t\t\t\t\ttip: '还没有相关文案哎，要不要来',\r\n\t\t\t\t\tbtnText : \"上传\",\r\n\t\t\t\t\t // 提示\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdownOption: {\r\n\t\t\t\tuse: false,\r\n\t\t\t\tauto: false\r\n\t\t\t},\r\n\t\t\tdefaultKeyword: '',\r\n\t\t\tkeyword: '',\r\n\t\t\toldKeywordList: [],\r\n\t\t\thotKeywordList: [],\r\n\t\t\tkeywordList: [],\r\n\t\t\tforbid: '',\r\n\t\t\tisShowKeywordList: false,\r\n\t\t\tresultList: []\r\n\t\t};\r\n\t},\r\n\twatch: {},\r\n\tonLoad() {\r\n\t\tthis.init();\r\n\t},\r\n\tcomponents: {\r\n\t\t//引用mSearch组件，如不需要删除即可\r\n\t\tmSearch,\r\n\t\tMescrollEmpty\r\n\t},\r\n\tmethods: {\r\n\t\tinit() {\r\n\t\t\tthis.loadDefaultKeyword();\r\n\t\t\tthis.loadOldKeyword();\r\n\t\t\tthis.loadHotKeyword();\r\n\t\t},\r\n\t\tblur() {\r\n\t\t\tuni.hideKeyboard();\r\n\t\t},\r\n\t\t//加载默认搜索关键字\r\n\t\tloadDefaultKeyword() {\r\n\t\t\t//定义默认搜索关键字，可以自己实现ajax请求数据再赋值,用户未输入时，以水印方式显示在输入框，直接不输入内容搜索会搜索默认关键字\r\n\t\t\tthis.defaultKeyword = '默认关键字';\r\n\t\t},\r\n\t\t//加载历史搜索,自动读取本地Storage\r\n\t\tloadOldKeyword() {\r\n\t\t\tuni.getStorage({\r\n\t\t\t\tkey: 'OldKeys',\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tvar OldKeys = JSON.parse(res.data);\r\n\t\t\t\t\tthis.oldKeywordList = OldKeys;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t//加载热门搜索\r\n\t\tloadHotKeyword() {\r\n\t\t\tlet sign = this.md5Libs.md5(`${this.signKey}`);\r\n\t\t\tthis.$u\r\n\t\t\t\t.get('/api/master/v1/applets_hot', {\r\n\t\t\t\t\ttoken: this.vuex_token,\r\n\t\t\t\t\tsign: sign\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.hotKeywordList = res;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t//监听输入\r\n\t\tinputChange(event) {\r\n\t\t\t//兼容引入组件时传入参数情况\r\n\t\t\tvar keyword = event.detail ? event.detail.value : event;\r\n\t\t\tif (!keyword) {\r\n\t\t\t\tthis.keywordList = [];\r\n\t\t\t\tthis.isShowKeywordList = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.isShowKeywordList = true;\r\n\t\t\t//以下示例截取淘宝的关键字，请替换成你的接口\r\n\t\t\t// uni.request({\r\n\t\t\t// \turl: 'https://suggest.taobao.com/sug?code=utf-8&q=' + keyword, //仅为示例\r\n\t\t\t// \tsuccess: res => {\r\n\t\t\t// \t\tthis.keywordList = [];\r\n\t\t\t// \t\tthis.keywordList = this.drawCorrelativeKeyword(res.data.result, keyword);\r\n\t\t\t// \t}\r\n\t\t\t// });\r\n\t\t},\r\n\t\t//高亮关键字\r\n\t\tdrawCorrelativeKeyword(keywords, keyword) {\r\n\t\t\tvar len = keywords.length,\r\n\t\t\t\tkeywordArr = [];\r\n\t\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\t\tvar row = keywords[i];\r\n\t\t\t\t//定义高亮#9f9f9f\r\n\t\t\t\tvar html = row[0].replace(keyword, \"<span style='color: #9f9f9f;'>\" + keyword + '</span>');\r\n\t\t\t\thtml = '<div>' + html + '</div>';\r\n\t\t\t\tvar tmpObj = {\r\n\t\t\t\t\tkeyword: row[0],\r\n\t\t\t\t\thtmlStr: html\r\n\t\t\t\t};\r\n\t\t\t\tkeywordArr.push(tmpObj);\r\n\t\t\t}\r\n\t\t\treturn keywordArr;\r\n\t\t},\r\n\t\t//顶置关键字\r\n\t\tsetKeyword(index) {\r\n\t\t\tthis.keyword = this.keywordList[index].keyword;\r\n\t\t},\r\n\t\t//清除历史搜索\r\n\t\toldDelete() {\r\n\t\t\tuni.showModal({\r\n\t\t\t\tcontent: '确定清除历史搜索记录？',\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\tconsole.log('用户点击确定');\r\n\t\t\t\t\t\tthis.oldKeywordList = [];\r\n\t\t\t\t\t\tuni.removeStorage({\r\n\t\t\t\t\t\t\tkey: 'OldKeys'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\tconsole.log('用户点击取消');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t//热门搜索开关\r\n\t\thotToggle() {\r\n\t\t\tthis.forbid = this.forbid ? '' : '_forbid';\r\n\t\t},\r\n\t\t//执行搜索\r\n\t\tdoSearch(keyword, type, cat_id) {\r\n\t\t\tif(type === 2){\r\n\t\t\t\tthis.$u.route('/pages/classify/classify',{cat_id, keyword})\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\tkeyword = keyword === false ? this.keyword : keyword;\r\n\t\t\tif (keyword != '') {\r\n\t\t\t\tthis.keyword = keyword;\r\n\t\t\t\tthis.saveKeyword(keyword); //保存为历史\r\n\t\t\t\tthis.isShowKeywordList = true;\r\n\t\t\t\tthis.resultList = []; // 先清空列表,显示加载进度\r\n\t\t\t\tthis.mescroll.resetUpScroll();\r\n\t\t\t} else {\r\n\t\t\t\tthis.isShowKeywordList = false;\r\n\t\t\t}\r\n\r\n\t\t\t//以下是示例跳转淘宝搜索，可自己实现搜索逻辑\r\n\t\t\t/*\n\t\t\t\t//#ifdef APP-PLUS\n\t\t\t\tplus.runtime.openURL(encodeURI('taobao://s.taobao.com/search?q=' + keyword));\n\t\t\t\t//#endif\n\t\t\t\t//#ifdef H5\n\t\t\t\twindow.location.href = 'taobao://s.taobao.com/search?q=' + keyword\n\t\t\t\t//#endif\n\t\t\t\t*/\r\n\t\t},\r\n\t\t//保存关键字到历史记录\r\n\t\tsaveKeyword(keyword) {\r\n\t\t\tuni.getStorage({\r\n\t\t\t\tkey: 'OldKeys',\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tvar OldKeys = JSON.parse(res.data);\r\n\t\t\t\t\tvar findIndex = OldKeys.indexOf(keyword);\r\n\t\t\t\t\tif (findIndex == -1) {\r\n\t\t\t\t\t\tOldKeys.unshift(keyword);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tOldKeys.splice(findIndex, 1);\r\n\t\t\t\t\t\tOldKeys.unshift(keyword);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//最多10个纪录\r\n\t\t\t\t\tOldKeys.length > 10 && OldKeys.pop();\r\n\t\t\t\t\tuni.setStorage({\r\n\t\t\t\t\t\tkey: 'OldKeys',\r\n\t\t\t\t\t\tdata: JSON.stringify(OldKeys)\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.oldKeywordList = OldKeys; //更新历史搜索\r\n\t\t\t\t},\r\n\t\t\t\tfail: e => {\r\n\t\t\t\t\tvar OldKeys = [keyword];\r\n\t\t\t\t\tuni.setStorage({\r\n\t\t\t\t\t\tkey: 'OldKeys',\r\n\t\t\t\t\t\tdata: JSON.stringify(OldKeys)\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.oldKeywordList = OldKeys; //更新历史搜索\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t/*上拉加载的回调: 其中page.num:当前页 从1开始, page.size:每页数据条数,默认10 */\r\n\t\tupCallback(page) {\r\n\t\t\tlet sign = this.md5Libs.md5(`${this.keyword}${page.num}${page.size}${this.signKey}`);\r\n\t\t\tthis.$u\r\n\t\t\t\t.get(`/api/master/v1/${this.isLoginUrl}fac_search`, {\r\n\t\t\t\t\ttoken: this.vuex_token,\r\n\t\t\t\t\tname: this.keyword,\r\n\t\t\t\t\tpage: page.num,\r\n\t\t\t\t\tlimit: page.size,\r\n\t\t\t\t\tsign: sign\r\n\t\t\t\t})\r\n\t\t\t\t.then(curPageData => {\r\n\t\t\t\t\tcurPageData = curPageData.info;\r\n\t\t\t\t\tthis.mescroll.endSuccess(curPageData.length);\r\n\t\t\t\t\t//如果是第一页需手动制空列表\r\n\t\t\t\t\tif (page.num == 1) this.resultList = [];\r\n\t\t\t\t\t//追加新数据\r\n\t\t\t\t\tthis.resultList = this.resultList.concat(curPageData);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\tthis.mescroll.endErr();\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tclear() {\r\n\t\t\tthis.resultList = [];\r\n\t\t\tthis.keyword = '';\r\n\t\t\tthis.mescroll.removeEmpty();\r\n\t\t},\r\n\t\temptyClick(){\r\n\t\t\tthis.$u.route({\r\n\t\t\t\turl: '/pages/add/add',\r\n\t\t\t\ttype: 'switchTab'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\nview {\r\n\tdisplay: block;\r\n}\r\npage {\r\n\tbackground-color: #f2f3f3;\r\n\t.mescroll-empty{\r\n\t\tmargin-top: 30%;\r\n\t\t.empty-btn{\r\n\t\t\tborder: none;\r\n\t\t\tmin-width: auto;\r\n\t\t\tmargin: 0;\r\n\t\t\tcolor: #1f969b;\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tpadding: 0;\r\n\t\t\t&::after{\r\n\t\t\t\tcontent: \"一个?\";\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tcolor: #4A4C4C;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.empty-tip{\r\n\t\t\tfont-size: 26rpx;\r\n\t\t \tdisplay: inline-block;\r\n\t\t\tcolor: #4A4C4C;\r\n\t\t }\r\n\t}\r\n}\r\n\r\n.search-box {\r\n\twidth: 100%;\r\n\tbackground-color: #ffffff;\r\n\tpadding: 15upx 40rpx;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tposition: sticky;\r\n\ttop: 0;\r\n\tz-index: 666;\r\n}\r\n.search-box .mSearch-input-box {\r\n\twidth: 100%;\r\n}\r\n.search-box .input-box {\r\n\twidth: 85%;\r\n\tflex-shrink: 1;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tbackground-color: #f2f3f3;\r\n}\r\n.search-box .search-btn {\r\n\twidth: 15%;\r\n\tmargin: 0 0 0 2%;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tflex-shrink: 0;\r\n\tfont-size: 28upx;\r\n\tcolor: #fff;\r\n\tbackground: linear-gradient(to right, #ff9801, #ff570a);\r\n\tborder-radius: 60upx;\r\n}\r\n.search-box .input-box > input {\r\n\twidth: 100%;\r\n\theight: 60upx;\r\n\tfont-size: 32upx;\r\n\tborder: 0;\r\n\tborder-radius: 60upx;\r\n\t-webkit-appearance: none;\r\n\t-moz-appearance: none;\r\n\tappearance: none;\r\n\tpadding: 0 3%;\r\n\tmargin: 0;\r\n\tbackground-color: #ffffff;\r\n}\r\n.placeholder-class {\r\n\tcolor: #9e9e9e;\r\n}\r\n.search-keyword {\r\n\twidth: 100%;\r\n\tbackground-color: rgb(242, 242, 242);\r\n}\r\n.keyword-list-box {\r\n\t// height: calc(100vh - 110upx);\r\n\tpadding-top: 10upx;\r\n\tborder-radius: 20upx 20upx 0 0;\r\n\tbackground-color: #fff;\r\n}\r\n.keyword-entry-tap {\r\n\tbackground-color: #eee;\r\n}\r\n.keyword-entry {\r\n\twidth: 94%;\r\n\theight: 80upx;\r\n\tmargin: 0 3%;\r\n\tfont-size: 30upx;\r\n\tcolor: #333;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tborder-bottom: solid 1upx #e7e7e7;\r\n}\r\n.keyword-entry image {\r\n\twidth: 60upx;\r\n\theight: 60upx;\r\n}\r\n.keyword-entry .keyword-text,\r\n.keyword-entry .keyword-img {\r\n\theight: 80upx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n.keyword-entry .keyword-text {\r\n\twidth: 90%;\r\n}\r\n.keyword-entry .keyword-img {\r\n\twidth: 10%;\r\n\tjustify-content: center;\r\n}\r\n.keyword-box {\r\n\t// height: calc(100vh - 110upx);\r\n\tborder-radius: 20upx 20upx 0 0;\r\n\tbackground-color: #f2f2f2;\r\n}\r\n.keyword-box .keyword-block {\r\n\tpadding: 30upx 0 20rpx;\r\n}\r\n.keyword-box .keyword-block .keyword-list-header {\r\n\twidth: 94%;\r\n\tpadding: 10upx 3% 30rpx;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tfont-size: 28rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #383534;\r\n\ttext {\r\n\t\tcolor: #aaaaa7;\r\n\t\tfont-size: 24rpx;\r\n\t\tfont-weight: normal;\r\n\t}\r\n}\r\n.keyword-box .keyword-block .keyword-list-header image {\r\n\twidth: 40upx;\r\n\theight: 40upx;\r\n}\r\n.keyword-box .keyword-block .keyword {\r\n\twidth: 94%;\r\n\tpadding: 3px 3%;\r\n\tdisplay: flex;\r\n\tflex-flow: wrap;\r\n\tjustify-content: flex-start;\r\n\t.utag {\r\n\t\tmargin: 0 32rpx 20rpx 0;\r\n\t\t.u-tag {\r\n\t\t\tpadding: 18rpx 32rpx;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t}\r\n\t}\r\n}\r\n.keyword-box .keyword-block .hide-hot-tis {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\tfont-size: 28upx;\r\n\tcolor: #6b6b6b;\r\n}\r\n.keyword-box .keyword-block .keyword > view {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tborder-radius: 60upx;\r\n\tpadding: 0 20upx;\r\n\tmargin: 10upx 20upx 10upx 0;\r\n\theight: 60upx;\r\n\tfont-size: 28upx;\r\n\tbackground-color: rgb(242, 242, 242);\r\n\tcolor: #6b6b6b;\r\n}\r\n\r\n</style>\n","import mod from \"-!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\hbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}