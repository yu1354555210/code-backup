(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/search/list-search"],{"3ba7":function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(o("3179")),r=s(o("fb54")),i=o("2f62");function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function c(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){u(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function u(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var d=function(){o.e("components/mehaotian-search-revision/mehaotian-search-revision").then(function(){return resolve(o("9563"))}.bind(null,o)).catch(o.oe)},l=function(){o.e("components/list/list").then(function(){return resolve(o("b88c"))}.bind(null,o)).catch(o.oe)},f={mixins:[r.default],components:{tList:l,mSearch:d},computed:c({},(0,i.mapGetters)(["getInfo"])),onShareAppMessage:function(e){return"button"===e.from&&console.log(e.target),qq.showShareMenu({showShareItems:["qq","qzone","wechatFriends","wechatMoment"]}),{title:"这条说说说的就是你吧？",path:"/pages/index/index"}},data:function(){return{downOption:{use:!1},upOption:{auto:!1,noMoreSize:5,textNoMore:"数据已全部加载",empty:{tip:"~ 搜索无结果 ~"}},goods:[],keyword:"",defaultKeyword:"搜索",oldgoods:[],hotgoods:[],forbid:"",isShowgoods:!1,isDelShow:!1,isShowKeywordList:!1}},watch:{keyword:function(){}},mounted:function(){},methods:{upCallback:function(t){var o=this,r=t.num,i=t.size,s=(0,n.default)("".concat(this.keyword).concat(r).concat(i).concat(this.signKey));e.request({url:this.apiUrl+"/api/master/v1/talk_search",data:{token:this.getInfo.token,sign:s,name:this.keyword,page:r,limit:i},success:function(e){var n=e.data.data.info;1==t.num&&(o.goods=[]),o.mescroll.endSuccess(n.length),o.goods=o.goods.concat(n)},fail:function(){o.mescroll.endErr()}})},onLoad:function(){this.init()},init:function(){this.loadDefaultKeyword(),this.loadOldKeyword(),this.loadHotKeyword()},blur:function(){e.hideKeyboard()},removeEmpty:function(){this.mescroll.hideUpScroll(),this.mescroll.removeEmpty()},loadDefaultKeyword:function(){this.defaultKeyword="搜索"},loadOldKeyword:function(){var t=this;e.getStorage({key:"OldKeys",success:function(e){var o=JSON.parse(e.data);t.oldgoods=o}})},loadHotKeyword:function(){var t=this,o=(0,n.default)(this.signKey);e.request({url:this.apiUrl+"/api/master/v1/hot",method:"GET",data:{token:this.getInfo.token,sign:o},success:function(e){var o=e.data.data;200==e.data.status&&(t.hotgoods=o)},fail:function(){},complete:function(){}})},inputChange:function(e){var t=e.detail?e.detail.value:e;if(!t)return this.goods=[],void(this.isShowgoods=!1);this.isShowgoods=!0},setkeyword:function(e){this.keyword=e.keyword},oldDelete:function(){var t=this;e.showModal({content:"确定清除历史搜索记录？",success:function(o){o.confirm?(console.log("用户点击确定"),t.oldgoods=[],e.removeStorage({key:"OldKeys"})):o.cancel&&console.log("用户点击取消")}})},doSearch:function(e){e=e||(this.keyword?this.keyword:this.defaultKeyword),this.keyword=e,this.saveKeyword(e),this.mescroll.resetUpScroll(),this.$refs.mySearch.hideSearchIcon(),""!=e&&(this.isShowgoods=!0)},saveKeyword:function(t){var o=this;e.getStorage({key:"OldKeys",success:function(n){var r=JSON.parse(n.data),i=r.indexOf(t);-1==i||r.splice(i,1),r.unshift(t),r.length>10&&r.pop(),e.setStorage({key:"OldKeys",data:JSON.stringify(r)}),o.oldgoods=r},fail:function(n){var r=[t];e.setStorage({key:"OldKeys",data:JSON.stringify(r)}),o.oldgoods=r}})}}};t.default=f}).call(this,o("a821")["default"])},"3c01":function(e,t,o){"use strict";o.r(t);var n=o("6526"),r=o("74c2");for(var i in r)"default"!==i&&function(e){o.d(t,e,(function(){return r[e]}))}(i);o("c259");var s,a=o("f0c5"),c=Object(a["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],s);t["default"]=c.exports},6526:function(e,t,o){"use strict";var n;o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return i})),o.d(t,"a",(function(){return n}));var r=function(){var e=this,t=e.$createElement;e._self._c},i=[]},"74c2":function(e,t,o){"use strict";o.r(t);var n=o("3ba7"),r=o.n(n);for(var i in n)"default"!==i&&function(e){o.d(t,e,(function(){return n[e]}))}(i);t["default"]=r.a},c259:function(e,t,o){"use strict";var n=o("d6c2"),r=o.n(n);r.a},d6c2:function(e,t,o){},e5c3:function(e,t,o){"use strict";(function(e){o("95e8");n(o("66fd"));var t=n(o("3c01"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("a821")["createPage"])}},[["e5c3","common/runtime","common/vendor"]]]);