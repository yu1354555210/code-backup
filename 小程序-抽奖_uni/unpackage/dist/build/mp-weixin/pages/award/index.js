(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/award/index"],{"5de3":function(t,a,n){"use strict";n.r(a);var e=n("912d"),o=n.n(e);for(var i in e)"default"!==i&&function(t){n.d(a,t,function(){return e[t]})}(i);a["default"]=o.a},"840f":function(t,a,n){"use strict";n.r(a);var e=n("b285"),o=n("5de3");for(var i in o)"default"!==i&&function(t){n.d(a,t,function(){return o[t]})}(i);var d=n("2877"),c=Object(d["a"])(o["default"],e["a"],e["b"],!1,null,null,null);a["default"]=c.exports},"912d":function(t,a,n){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=n("7976"),o=null,i={data:function(){return{seeAdCount:0,awardInfo:"",rankingList:[],totalCount:0,awardId:""}},filters:{Base64Decode:function(t){return e.Base64.decode(t)}},onLoad:function(a){var n=this;this.awardId=a.id,this.getData(a),wx.createRewardedVideoAd&&(o=wx.createRewardedVideoAd({adUnitId:"adunit-4a96e5b8c27a94c1"}),o.onLoad(function(){console.log("onLoad event emit")}),o.onError(function(a){t.showToast({icon:"none",title:"视频播放失败,紧急修复中！"}),console.log("onError event emit",a)}),o.onClose(function(t){console.log("onClose event emit",t)})),o.offClose(),o.onClose(function(a){a&&a.isEnded?t.request({url:getApp().globalData.apiUrl+"api/pchoujiang/api",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{token:t.getStorageSync("token"),choujiang_id:n.awardId,api_name:"choujiang_ad_log"},success:function(t){console.log("正常播放结束，下发游戏奖励"),n.getData()},fail:function(a){t.showToast({title:a.data.msg})},complete:function(){}}):console.log("播放中途退出，不下发游戏奖励")})},methods:{getData:function(){var a=this;t.showLoading({title:"加载中"}),t.request({url:getApp().globalData.apiUrl+"api/pchoujiang/api",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{token:t.getStorageSync("token"),choujiang_id:this.awardId,api_name:"choujiang_detail"},success:function(n){1==n.data.code?(a.awardInfo=n.data.data.xcx_choujiang_manage_list,a.seeAdCount=n.data.data.see_ad_counts):t.showToast({title:n.data.msg}),t.hideLoading()},fail:function(a){t.showToast({title:a.data.msg}),t.hideLoading()},complete:function(){}}),t.request({url:getApp().globalData.apiUrl+"api/pchoujiang/api",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{token:t.getStorageSync("token"),choujiang_id:this.awardId,api_name:"get_choujiang_rank"},success:function(t){a.totalCount=t.data.data.total_see_ad_counts,a.rankingList=t.data.data.list},fail:function(a){t.showToast({title:a.data.msg})},complete:function(){}})},openVideoAd:function(){o&&o.show().catch(function(){o.load().then(function(){return o.show()}).catch(function(t){console.log("激励视频 广告显示失败",t)})})}}};a.default=i}).call(this,n("543d")["default"])},b285:function(t,a,n){"use strict";var e=function(){var t=this,a=t.$createElement,n=(t._self._c,t.__map(t.rankingList,function(a,n){var e=t._f("Base64Decode")(a.user_show_name);return{$orig:t.__get_orig(a),f0:e}}));t.$mp.data=Object.assign({},{$root:{l0:n}})},o=[];n.d(a,"a",function(){return e}),n.d(a,"b",function(){return o})},f799:function(t,a,n){"use strict";(function(t){n("c81d"),n("921b");e(n("66fd"));var a=e(n("840f"));function e(t){return t&&t.__esModule?t:{default:t}}t(a.default)}).call(this,n("543d")["createPage"])}},[["f799","common/runtime","common/vendor"]]]);